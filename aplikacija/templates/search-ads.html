<!-- Luka Zdravic -->

{% load static %}

<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <title>Pretraga Oglasa</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body>
    <header class="main-header">
        <div class="container">
            <a href="{% url 'home' tip=myType %}" class="logo">StudyBuddy</a>
            <nav><a href="{% url 'home' tip=myType %}">Nazad na tablu</a></nav>
        </div>
    </header>

    <main class="container">
        <h1>Pretraga oglasa</h1>
        <form method="post" action="{% url 'search_ads' %}" class="filter-form">
            {% csrf_token %}
            <div>
                <label for="search">Pretra≈æi:</label>
                <input type="search" id="search" name="search" placeholder="Unesi kljuƒçnu reƒç..."
                       value="{{ request.GET.search }}">
            </div>
            <div>
                <label>Tip pomoƒái:</label><br>
                <label>
                    <input type="checkbox" name="tip" value="Pomoc pri izradi">
                    Pomoƒá pri izradi projekta
                </label><br>
                <label>
                    <input type="checkbox" name="tip" value="Pomoc pri ucenju">
                    Pomoƒá pri uƒçenju
                </label><br>
                <label>
                    <input type="checkbox" name="tip" value="Pomoc za recenziranje projekta">
                    Recenziranje projekta
                </label>
            </div>

            <div>
                <label for="tag">Tag:</label>
                <input type="text" id="tag" name="tag" placeholder="Npr. python, psi, etf..."
                       value="{{ request.GET.tag }}">
            </div>

            <div>
                <label for="min_rating">Minimalna ocena korisnika:</label>
                <input type="number" id="min_rating" name="min_rating" min="1" max="5" step="0.1"
                       value="{{ request.GET.min_rating }}">
            </div>

            <button type="submit" class="btn">Primeni filtere</button>
        </form>

        <hr>

        <!-- üìú List of ads -->
        <div class="item-list">
            {% for oglas in oglasi %}
                <div class="item">
                    <h3><a href="{% url 'view_ad' oglas.idnotice %}">{{ oglas.title }}</a></h3>
                    <h5>Predmet: {{ oglas.subject }}</h5>
                    <p>Postavio: {{ oglas.idpublisher.name }} {{ oglas.idpublisher.surname }}</p>
                    <p>Tip pomoƒái: {{ oglas.type }}</p>
                </div>
                <hr>
            {% empty %}
                <p>Nema oglasa koji odgovaraju filterima</p>
            {% endfor %}
        </div>
    </main>
</body>
</html>
